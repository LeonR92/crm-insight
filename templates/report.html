<!DOCTYPE html>
<html
  lang="en"
  class="bg-gray-50 dark:bg-gray-900 transition-colors duration-200"
>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Inter", sans-serif;
        -webkit-font-smoothing: antialiased;
      }
      @media print {
        .no-print {
          display: none;
        }
        .print-shadow-none {
          box-shadow: none !important;
          border: 1px solid #e5e7eb !important;
        }
        /* Ensure text is dark when printing even in dark mode */
        body {
          background-color: white !important;
          color: black !important;
        }
      }
    </style>
    <title>Report #{{ report.id }} | {{ report.insurance_company_name }}</title>
  </head>
  <body
    class="text-gray-900 dark:text-gray-100 antialiased pb-20 dark:bg-gray-900"
  >
    <div class="h-1.5 w-full bg-indigo-600"></div>

    <nav
      class="bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 no-print"
    >
      <div
        class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between"
      >
        <span
          class="text-sm font-semibold tracking-tight text-gray-900 dark:text-white"
        >
          Confidential Intelligence Group
        </span>
        <button
          onclick="window.print()"
          class="inline-flex items-center px-3 py-2 border border-gray-300 dark:border-gray-600 shadow-sm text-xs font-medium rounded-md text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none transition"
        >
          Print Report
        </button>
      </div>
    </nav>

    <main class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 mt-12">
      <div
        class="mb-8 flex flex-col md:flex-row md:items-end justify-between gap-4"
      >
        <div>
          <p
            class="text-xs font-bold uppercase tracking-widest text-indigo-600 dark:text-indigo-400 mb-2"
          >
            Besuchsreport
          </p>
          <h1
            class="text-4xl font-extrabold tracking-tight text-gray-900 dark:text-white leading-none"
          >
            {{ report.insurance_company_name }}
          </h1>
        </div>
        <div class="text-left md:text-right">
          <p
            class="text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"
          >
            Berichtsnummer
          </p>
          <p class="text-xl font-mono font-bold text-gray-900 dark:text-white">
            #{{ report.id }}
          </p>
        </div>
      </div>

      <div
        class="grid grid-cols-1 sm:grid-cols-3 gap-6 border-y border-gray-200 dark:border-gray-700 py-8 mb-10"
      >
        <div>
          <dt
            class="text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider"
          >
            Department
          </dt>
          <dd
            class="mt-2 text-sm font-bold text-gray-900 dark:text-white uppercase leading-tight"
          >
            {{ report.department_visited }}
          </dd>
        </div>
        <div>
          <dt
            class="text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider"
          >
            Practice Area
          </dt>
          <dd
            class="mt-2 text-sm font-bold text-gray-900 dark:text-white uppercase leading-tight"
          >
            {{ report.practice_area_name }}
          </dd>
        </div>
        <div>
          <dt
            class="text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider"
          >
            Date of Visit
          </dt>
          <dd
            class="mt-2 text-sm font-bold text-gray-900 dark:text-white uppercase leading-tight"
          >
            {{ report.report_date.strftime('%Y.%m.%d') if report.report_date
            else '0000.00.00' }}
          </dd>
        </div>
      </div>

      <div
        class="bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl shadow-sm overflow-hidden print-shadow-none"
      >
        <div class="p-8 md:p-12">
          <article class="prose prose-indigo dark:prose-invert max-w-none">
            <div
              class="whitespace-pre-line text-gray-700 dark:text-gray-300 leading-relaxed text-lg"
            >
              {{ report.report_content }}
            </div>
          </article>

          <div class="mt-12 pt-8 border-t border-gray-100 dark:border-gray-700">
            <h4
              class="text-xs font-bold uppercase tracking-wider text-gray-500 dark:text-gray-400 mb-4"
            >
              Besuchte Schl√ºsselpersonen
            </h4>
            <div
              class="inline-flex items-center px-4 py-2 rounded-full bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 text-gray-900 dark:text-white font-semibold text-sm"
            >
              <svg
                class="w-4 h-4 mr-2 text-gray-400 dark:text-gray-500"
                fill="currentColor"
                viewBox="0 0 20 20"
              >
                <path
                  fill-rule="evenodd"
                  d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z"
                  clip-rule="evenodd"
                ></path>
              </svg>
              {{ report.visited_key_personnel }}
            </div>
          </div>
        </div>
      </div>

      <footer
        class="mt-12 flex justify-between items-center text-[10px] font-bold uppercase tracking-[0.2em] text-gray-400 dark:text-gray-500"
      >
        <span>Confidential Intelligence Group</span>
        <span class="hidden md:inline">2026 Archive Copy</span>
        <div
          class="h-1.5 w-1.5 rounded-full bg-gray-300 dark:bg-gray-700"
        ></div>
      </footer>
    </main>
  </body>
</html>
