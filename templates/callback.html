<!DOCTYPE html>
<html>
  <body>
    <p>Authenticating... Please wait.</p>
    <script>
      const hash = window.location.hash.substring(1);
      const params = new URLSearchParams(hash);
      const token = params.get("access_token");

      if (token) {
        document.cookie = "access_token=" + token + "; Path=/; Max-Age=3600";

        console.log("Cookie set successfully.");

        setTimeout(() => {
          window.location.href = "/dashboard";
        }, 100);
      } else {
        console.error("Token not found in URL.");
        window.location.href = "/";
      }
    </script>
  </body>
</html>
